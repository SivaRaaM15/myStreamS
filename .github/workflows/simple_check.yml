name: Simple URL Check

on: [push, workflow_dispatch]

jobs:
  check-urls:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Check M3U file and URLs
        run: |
          echo "ğŸ” Checking M3U file..."
          
          if [ ! -f "sivarenu.m3u" ]; then
            echo "âŒ sivarenu.m3u not found!"
            exit 1
          fi
          
          # Count URLs in the file
          URL_COUNT=$(grep -c "^http" sivarenu.m3u || true)
          echo "ğŸ“Š Found $URL_COUNT stream URLs"
          
          # Count EXTINF entries
          STREAM_COUNT=$(grep -c "^#EXTINF" sivarenu.m3u || true)
          echo "ğŸ“º Found $STREAM_COUNT stream entries"
          
          # Show first few URLs as sample
          echo "ğŸ”— Sample URLs:"
          grep "^http" sivarenu.m3u | head -5
